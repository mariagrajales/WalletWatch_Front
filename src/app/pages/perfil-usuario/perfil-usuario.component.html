<div class="profile-header">
  <div class="avatar-container">
    <nz-avatar nzIcon="user"></nz-avatar>
  </div>
  <div class="profile-info">
    <h2>{{ fullName }}</h2>
    <p>{{ email }}</p>
  </div>
</div>

<div class="profile-details">
  <div class="profile-section">
    <h3>Información Personal</h3>
    <div class="profile-grid">
      <div class="profile-item">
        <label>Nombre:</label>
        <p>{{ nombre }}</p>
      </div>
      <div class="profile-item">
        <label>Apellido Paterno:</label>
        <p>{{ apellidoP }}</p>
      </div>
      <div class="profile-item">
        <label>Apellido Materno:</label>
        <p>{{ apellidoM }}</p>
      </div>
      <div class="profile-item">
        <label>Correo Electrónico:</label>
        <p>{{ email }}</p>
      </div>
    </div>
  </div>

  <div class="profile-section">
    <h3>Detalles de Cuenta</h3>
    <div class="profile-grid">
      <div class="profile-item">
        <label>Fecha de Registro:</label>
        <p>{{ fechaRegistro }}</p>
      </div>
    </div>
  </div>

  <div class="profile-section">
    <h3>Detalles de Ubicación</h3>
    <div class="profile-grid">
      <div class="profile-item">
        <label>País:</label>
        <p>{{ pais }}</p>
      </div>

      <!-- Estado: Editable select o solo texto -->
      <div class="profile-item">
        <label>Estado:</label>
        <ng-container *ngIf="isEditable; else estadoTexto">
          <select [(ngModel)]="estadoId" [disabled]="!isEditable" style="background: #f5f7fa; border: none">
            <option *ngFor="let estado of estados" [value]="estado.id">{{ estado.nombre }}</option>
          </select>
        </ng-container>
        <ng-template #estadoTexto>
          <p>{{ estado }}</p>
        </ng-template>
      </div>

      <div class="profile-item">
        <label>Dirección:</label>
        <p [attr.contenteditable]="isEditable ? true : null">{{ direccion }}</p>
      </div>
    </div>
  </div>

  <div class="profile-section">
    <h3>Salarios</h3>
    <div class="profile-grid">
      <div class="profile-item">
        <label>Salario (MXN):</label>
        <div>
          <span>$ </span>
          <p [attr.contenteditable]="isEditable ? true : null">{{ salarioMXN }}</p>
        </div>
      </div>
      <div class="profile-item">
        <label>Salario (USD):</label>
        <div>
          <span>$ </span>
          <p [attr.contenteditable]="isEditable ? true : null">{{ salarioUSD }}</p>
        </div>
      </div>
    </div>
  </div>

  <div class="button-container">
    <button
      *ngIf="!isEditable"
      (click)="toggleEdit()"
      class="btn-edit"
    >
      Editar perfil
    </button>

    <button
      *ngIf="isEditable"
      (click)="saveChanges()"
      class="btn-save"
    >
      Guardar Cambios
    </button>

    <button
      *ngIf="isEditable"
      (click)="cancelChanges()"
      class="btn-cancel"
    >
      Cancelar
    </button>
  </div>
</div>
